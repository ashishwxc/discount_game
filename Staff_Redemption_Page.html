<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{
 display:flex;
 justify-content:center;
 align-items:center;
 height:100vh;
 font-family:sans-serif;
}
.box{
 text-align:center;
}
button{
 padding:10px 20px;
}
</style>
</head>
<body>

<div class="box">
<h3>Validate Coupon</h3>

<input id="mobile" placeholder="Mobile Number"><br><br>
<input id="code" placeholder="Coupon Code"><br><br>

<button id="submit" onclick="validate()">Submit</button>

<p id="msg"></p>
</div>

<script>
const WEBAPP="https://script.google.com/macros/s/AKfycbwGs4aNFvnstAb2ZIv2x1wuJN-IFtLwmQ0lWUVmVSUtoGdsUMBgW973QC0UNAgQD_gV/exec";

function validate(){
 const mobile=document.getElementById("mobile").value;
 const code=document.getElementById("code").value;
 const btn=document.getElementById("submit");
 btn.disabled=true;

 fetch(WEBAPP,{
   method:"POST",
   body:new URLSearchParams({action:"validate",mobile,code})
 })
 .then(res=>res.text())
 .then(data=>{
   if(data=="VALID"){
     msg.innerText="Coupon Accepted âœ…";
   }else if(data=="USED"){
     msg.innerText="Already Used";
   }else{
     msg.innerText="Invalid Coupon";
   }

   document.getElementById("mobile").value="";
   document.getElementById("code").value="";
   btn.disabled=false;
 });
}
</script>

</body>
</html>
